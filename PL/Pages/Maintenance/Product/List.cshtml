@page
@model PL.Pages.Maintenance.Product.ListModel
@{
    Layout = "_Maintenance";
    ViewData["PageTitle"] = "All Products";
}

<div class="container cp-b px-4 py-5 my-5">
    <div class="row">
        <div class="col"><h3>Product</h3></div>
        <div class="col"><h3>Price</h3></div>
        <div class="col"><h3>Created On</h3></div>
        <div class="col"><h3>Last Updated</h3></div>
        <div class="col"><h3>Actions</h3></div>
    </div>
    <hr />

    @if (Model.Products.Count != 0)
    {
        @foreach (var product in Model.Products)
        {
            <div class="row">
                <div class="col"><p>@product.Product</p></div>
                <div class="col"><p>@product.Price</p></div>
                <div class="col"><p>@product.CreatedAt</p></div>
                <div class="col"><p>@product.ModifiedAt</p></div>
                <div class="col">
                    <a class="link" href="/maintenance/product?category=@product.AttachedToCategory&product=@product.Key">Edit</a>
                    <a class="link" href="/maintenance/product?product=@product.Key&handler=Drop">Remove</a>
                </div>
            </div>
        }
    }
    else
    {
        <div class="row my-1">
            <div class="col ta-center">
                <p>Product list is empty. Use button below to add first.</p>
            </div>
        </div>
    }

    <div class="row">
        <div class="col ta-center">
            <a class="button cp-b-bg my-2" href="/maintenance/product">Create New</a>
        </div>
    </div>
</div>